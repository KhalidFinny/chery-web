---
import "../styles/global.css";
import "../styles/sizes.css";
import Header from "../shared/header.astro";
const { title, description } = Astro.props;
---
<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=7" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={description} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content="" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content="" />
    <title>{title} | Malang</title>
    <link rel="stylesheet" href="https://atugatran.github.io/FontAwesome6Pro/css/all.min.css" />
    <link rel="icon" href="/logo.webp" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  </head>
  <body class="relative min-h-screen w-full overflow-auto">
    <div class="absolute inset-0 -z-10 h-full w-full bg-white bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:16px_16px]"></div>
    
    <Header />
    
    <main class="max-w-full">
      <slot />
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", function() {
          document.querySelectorAll("a[href^='#']").forEach(anchor => {
              anchor.addEventListener("click", function(event) {
                  event.preventDefault();
                  const targetId = this.getAttribute("href");
                  const targetElement = document.querySelector(targetId);
                  if (targetElement) {
                      window.scrollTo({
                          top: targetElement.offsetTop - 80, 
                          behavior: "smooth"
                      });
                  }
              });
          });

          let touchStartX = 0;
          let touchEndX = 0;

          document.addEventListener("touchstart", function(event) {
              touchStartX = event.touches[0].clientX;
          });

          document.addEventListener("touchmove", function(event) {
              touchEndX = event.touches[0].clientX;
          });

          document.addEventListener("touchend", function() {
              if (touchStartX - touchEndX > 50) {
                  // Swiped left
                  window.scrollBy({ left: 300, behavior: "smooth" });
              } else if (touchEndX - touchStartX > 50) {
                  // Swiped right
                  window.scrollBy({ left: -300, behavior: "smooth" });
              }
          });
      });
    </script>
  </body>
</html>
